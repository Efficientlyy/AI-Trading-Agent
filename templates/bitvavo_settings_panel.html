<!-- 
    Bitvavo Settings Panel
    
    This template provides a UI for configuring Bitvavo API credentials and settings.
-->

<div class="container-fluid p-0">
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-exchange-alt me-2"></i>Bitvavo Exchange Integration
                    </h5>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        Configure your Bitvavo API credentials and connection settings. Bitvavo is a Netherlands-based
                        cryptocurrency exchange with competitive fees and excellent compliance.
                    </p>

                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Note:</strong> You'll need to create an API key in your Bitvavo account with appropriate
                        permissions.
                        <a href="https://account.bitvavo.com/user/api" target="_blank" class="alert-link">
                            Visit Bitvavo API settings <i class="fas fa-external-link-alt ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Bitvavo Settings Container -->
            <div id="bitvavo-settings-container"></div>

            <!-- Trading Pairs Configuration -->
            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Trading Pairs Configuration</h5>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        Configure which trading pairs to monitor and trade on Bitvavo.
                    </p>

                    <div class="table-responsive">
                        <table class="table table-striped table-hover" id="bitvavo-pairs-table">
                            <thead>
                                <tr>
                                    <th>Trading Pair</th>
                                    <th>Enabled</th>
                                    <th>Min Order Size</th>
                                    <th>Max Position</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>BTC/EUR</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="pair-btc-eur" checked>
                                        </div>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="0.001"
                                            min="0.0001" step="0.0001">
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="1.0" min="0.01"
                                            step="0.01">
                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-secondary">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>ETH/EUR</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="pair-eth-eur" checked>
                                        </div>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="0.01"
                                            min="0.001" step="0.001">
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="10.0" min="0.1"
                                            step="0.1">
                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-secondary">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>XRP/EUR</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="pair-xrp-eur">
                                        </div>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="100" min="1"
                                            step="1">
                                    </td>
                                    <td>
                                        <input type="number" class="form-control form-control-sm" value="5000" min="100"
                                            step="100">
                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-secondary">
                                            <i class="fas fa-cog"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="d-flex justify-content-between mt-3">
                        <button class="btn btn-outline-primary" id="add-pair-btn">
                            <i class="fas fa-plus me-1"></i> Add Trading Pair
                        </button>
                        <button class="btn btn-primary" id="save-pairs-btn">
                            <i class="fas fa-save me-1"></i> Save Configuration
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paper Trading Configuration -->
            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Paper Trading Configuration</h5>
                </div>
                <div class="card-body">
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="enable-paper-trading" checked>
                        <label class="form-check-label" for="enable-paper-trading">
                            Enable Paper Trading Mode
                        </label>
                    </div>

                    <p class="text-muted">
                        Paper trading allows you to test strategies with real market data but without risking real
                        funds.
                    </p>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="paper-balance-eur" class="form-label">Initial EUR Balance</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="paper-balance-eur" value="10000" min="100"
                                    step="100">
                                <span class="input-group-text">EUR</span>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label for="paper-balance-btc" class="form-label">Initial BTC Balance</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="paper-balance-btc" value="0.5" min="0"
                                    step="0.01">
                                <span class="input-group-text">BTC</span>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label for="paper-slippage" class="form-label">Simulated Slippage</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="paper-slippage" value="0.1" min="0"
                                    max="5" step="0.1">
                                <span class="input-group-text">%</span>
                            </div>
                            <div class="form-text">Simulated price slippage for market orders</div>
                        </div>

                        <div class="col-md-6">
                            <label for="paper-latency" class="form-label">Simulated Latency</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="paper-latency" value="200" min="0"
                                    max="2000" step="10">
                                <span class="input-group-text">ms</span>
                            </div>
                            <div class="form-text">Simulated network latency for API calls</div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-end mt-3">
                        <button class="btn btn-primary" id="save-paper-config-btn">
                            <i class="fas fa-save me-1"></i> Save Paper Trading Configuration
                        </button>
                    </div>
                </div>
            </div>

            <!-- Advanced Settings -->
            <div class="card shadow-sm mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Advanced Settings</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="websocket-enabled" class="form-label">WebSocket Connection</label>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="websocket-enabled" checked>
                                <label class="form-check-label" for="websocket-enabled">
                                    Enable WebSocket for real-time data
                                </label>
                            </div>
                            <div class="form-text">Uses WebSocket connection for real-time market data</div>
                        </div>

                        <div class="col-md-6">
                            <label for="rate-limit-buffer" class="form-label">Rate Limit Buffer</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="rate-limit-buffer" value="20" min="0"
                                    max="50" step="5">
                                <span class="input-group-text">%</span>
                            </div>
                            <div class="form-text">Buffer to prevent hitting API rate limits</div>
                        </div>

                        <div class="col-md-6">
                            <label for="order-book-depth" class="form-label">Order Book Depth</label>
                            <input type="number" class="form-control" id="order-book-depth" value="25" min="5" max="100"
                                step="5">
                            <div class="form-text">Number of levels to fetch from the order book</div>
                        </div>

                        <div class="col-md-6">
                            <label for="market-data-interval" class="form-label">Market Data Refresh Interval</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="market-data-interval" value="5" min="1"
                                    max="60" step="1">
                                <span class="input-group-text">seconds</span>
                            </div>
                            <div class="form-text">How often to refresh market data via REST API</div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-end mt-3">
                        <button class="btn btn-primary" id="save-advanced-settings-btn">
                            <i class="fas fa-save me-1"></i> Save Advanced Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include Bitvavo Settings JavaScript -->
<script src="/static/js/bitvavo_settings.js"></script>