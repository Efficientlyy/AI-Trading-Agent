# CI/CD for AI Trading Agent

This directory contains the GitHub Actions workflows for continuous integration and deployment of the AI Trading Agent project.

## Overview

The CI/CD pipeline ensures that all code changes are properly tested and validated before being deployed to production. It includes:

1. **Python Tests**: Verify functionality of Python code without Rust dependencies
2. **Rust Component Validation**: Build and validate all Rust components
3. **Production Deployment**: Ensure all optimizations are available before production deployment

## Workflows

### `python-tests.yml`

Runs tests for Python-only implementations, allowing developers to work without Rust installed.

Triggered by:
- Push to main/master/develop branches (Python files only)
- Pull requests to main/master/develop (Python files only)
- Manual dispatch

### `rust-validation.yml`

Builds Rust components and validates their availability and functionality.

Triggered by:
- Push to main/master/develop branches (Rust or validation files only)
- Pull requests to main/master/develop (Rust or validation files only)
- Manual dispatch

Key features:
- Builds optimized Rust components
- Validates all critical performance components are available
- Generates validation reports
- Runs integration tests with Rust components enabled
- Reports code coverage

### `prod-deployment.yml`

Prepares and validates the application for production deployment.

Triggered by:
- Push to main/master branches
- Version tags (v*)
- Manual dispatch

Key features:
- Strict validation of all required components
- Creation of deployment package with optimized Rust binaries
- Deployment to production environment (for version tags)
- Production environment gate for approval

## Integration with Validation System

The CI/CD workflows integrate with the validation system (`src/utils/validation/`) to ensure that:

1. Development and testing can continue with Python-only implementations
2. All critical performance components are available in production builds
3. Deployment will fail if optimizations are missing

## Artifacts

The following artifacts are generated by the workflows:

- **Validation Reports**: JSON reports detailing the validation results
- **Deployment Package**: ZIP file containing the application with optimized components
- **Code Coverage Reports**: Coverage reports for test runs

## Usage

### For Developers

When developing locally:
- Run `python run_dashboard.py --env dev` to use Python fallbacks
- Run `python run_dashboard.py --env prod --enforce-rust` to test with Rust enforcement

### For CI/CD Admins

- Configure GitHub repository Environments for deployment approvals
- Add deployment secrets if needed for production deployment
- Configure branch protection rules to require passing CI checks
